# Introducción al Desarrollo Front End con HTML, CSS y JavaScript

### Jueves 5 de mayo → sesion_08 → Bootstrap v5.1 y Charts.js

- - - - - - - - 

#### Teoría

**[Chart.js](https://www.chartjs.org/) es una biblioteca de JavaScript que nos permite implementar gráficos (dentro de un elemento [`<canvas>…</canvas>`](https://www.w3schools.com/html/html5_canvas.asp)) de manera sencilla**.

Con [Chart.js](https://www.chartjs.org/) podemos implementar gráficos de [línea](https://www.chartjs.org/docs/latest/charts/line.html), [barra](https://www.chartjs.org/docs/latest/charts/bar.html), [radar](https://www.chartjs.org/docs/latest/charts/radar.html), [torta](https://www.chartjs.org/docs/latest/charts/doughnut.html), [área polar](https://www.chartjs.org/docs/latest/charts/polar.html), [burbujas](https://www.chartjs.org/docs/latest/charts/bubble.html) y [dispersión](https://www.chartjs.org/docs/latest/charts/scatter.html), que son los tipos de gráficos disponibles en esta biblioteca de JavaScript, que se ofrece como *simple yet flexible JavaScript charting for designers & developers*. 
 
Conviene mencionar otras alternativas de *JavaScript charting*. Por nombrar algunas: [Apache ECharts](https://echarts.apache.org/en/index.html), [d3.js](https://d3js.org/) (que [tuvo su cuarto de hora](https://medium.com/@PepsRyuu/why-i-no-longer-use-d3-js-b8288f306c9a)), [dygraph](https://dygraphs.com/). 

Pero usaremos [Chart.js](https://www.chartjs.org/) porque en el contexto intructorio basta con resolver gráficos simples aprovechando una estructura clara:

```
var contexto = document.getElementById('nombre').getContext('2d');
var configuracion = {type: '…', data: {…}, options: {…}}
var chart = new Chart(contexto, configuracion);
```

La estructura también puede escribirse así:

```
new Chart(document.getElementById('nombre').getContext('2d'), {type: '…', data: {…}, options: {…}});
```

Esto es lo mismo que decir:

- Vamos a crear un `new Chart(…, {…});`

- Tal será su contexto `(document.getElementById('nombre').getContext('2d')`

- Y tal será su configuración: `{type: '…', data: {…}, options: {…}}`

En la configuración se decide el tipo de gráfico y los datos para el gráfico, además de opciones de presentación.

- - - - - - - - - - - - - - - 

#### Exploración práctica

Corresponde tener a mano:

- una descripción del [método `toLocaleString()`](https://developer.mozilla.org/es/docs/Web/JavaScript/Reference/Global_Objects/Number/toLocaleString); y

- la [documentación de Charts.js](https://www.chartjs.org/docs/latest/).

Partiremos con el siguiente código, que corresponde copiar y pegar en un documento recién creado en su editor de código fuente. Documento que tienen que guardar como `index.html`: 

```
<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous" />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.5.1/chart.min.js" integrity="sha512-Wt1bJGtlnMtGP0dqNFH1xlkLBNpEodaiQ8ZN5JLA5wpc1sUlk/O5uuOMNgvzddzkpvZ9GLyYNa8w2s7rqiTk5Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <title>Introducción al Desarrollo Front End con HTML, CSS y JavaScript</title>
    </head>
    <body>
        <div class="container">
            <div class="row">
                <div class="col-sm-10 col-md-9 col-lg-8 col-xl-7 col-xxl-6 mx-auto my-5">
                
                    <h1 class="text-center fs-3 mb-4">Lorem ipsum dolor sit amet</h1>

                    <p>Consectetur adipiscing elit. Nunc consequat felis at orci scelerisque, at blandit ex tempor. Vivamus sodales commodo quam vel commodo. Sed placerat dictum mauris in ultrices. Fusce feugiat risus ac nibh pretium dignissim. Praesent vel nulla pellentesque, congue velit a, pulvinar quam. Phasellus consectetur nibh id lectus aliquam, at tincidunt turpis pellentesque. Nulla a urna vitae enim consequat pellentesque.</p>

                    <canvas id="misBarritas" class="my-4"></canvas>

                    <p>Los totales nacionales, <a href="https://github.com/MinCiencia/Datos-COVID19/tree/master/output/producto5" target="_blank">obtenidos del repositorio de GitHub de Datos-COVID19</a> del Ministerio de Ciencia, Tecnología, Conocimiento, e Innovación del Gobierno de Chile, consequat felis at orci scelerisque, at blandit ex tempor. Vivamus sodales commodo quam vel commodo. Sed placerat dictum mauris in ultrices. Fusce feugiat risus ac nibh pretium dignissim. Praesent vel nulla pellentesque, congue velit a, pulvinar quam. Phasellus consectetur nibh id lectus aliquam, at tincidunt turpis pellentesque. Nulla a urna vitae enim consequat pellentesque.</p>
                    
                </div>
            </div>
        </div>
        <script>
            var covid = {
                fechas:["2020-03-02","2020-03-03","2020-03-04","2020-03-05","2020-03-06","2020-03-07","2020-03-08","2020-03-09","2020-03-10","2020-03-11","2020-03-12","2020-03-13","2020-03-14","2020-03-15","2020-03-16","2020-03-17","2020-03-18","2020-03-19","2020-03-20","2020-03-21","2020-03-22","2020-03-23","2020-03-24","2020-03-25","2020-03-26","2020-03-27","2020-03-28","2020-03-29","2020-03-30","2020-03-31","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-07","2020-04-08","2020-04-09","2020-04-10","2020-04-11","2020-04-12","2020-04-13","2020-04-14","2020-04-15","2020-04-16","2020-04-17","2020-04-18","2020-04-19","2020-04-20","2020-04-21","2020-04-22","2020-04-23","2020-04-24","2020-04-25","2020-04-26","2020-04-27","2020-04-28","2020-04-29","2020-04-30","2020-05-01","2020-05-02","2020-05-03","2020-05-04","2020-05-05","2020-05-06","2020-05-07","2020-05-08","2020-05-09","2020-05-10","2020-05-11","2020-05-12","2020-05-13","2020-05-14","2020-05-15","2020-05-16","2020-05-17","2020-05-18","2020-05-19","2020-05-20","2020-05-21","2020-05-22","2020-05-23","2020-05-24","2020-05-25","2020-05-26","2020-05-27","2020-05-28","2020-05-29","2020-05-30","2020-05-31","2020-06-01","2020-06-02","2020-06-03","2020-06-04","2020-06-05","2020-06-06","2020-06-07","2020-06-08","2020-06-09","2020-06-10","2020-06-11","2020-06-12","2020-06-13","2020-06-14","2020-06-15","2020-06-16","2020-06-17","2020-06-18","2020-06-19","2020-06-20","2020-06-21","2020-06-22","2020-06-23","2020-06-24","2020-06-25","2020-06-26","2020-06-27","2020-06-28","2020-06-29","2020-06-30","2020-07-01","2020-07-02","2020-07-03","2020-07-04","2020-07-05","2020-07-06","2020-07-07","2020-07-08","2020-07-09","2020-07-10","2020-07-11","2020-07-12","2020-07-13","2020-07-14","2020-07-15","2020-07-16","2020-07-17","2020-07-18","2020-07-19","2020-07-20","2020-07-21","2020-07-22","2020-07-23","2020-07-24","2020-07-25","2020-07-26","2020-07-27","2020-07-28","2020-07-29","2020-07-30","2020-07-31","2020-08-01","2020-08-02","2020-08-03","2020-08-04","2020-08-05","2020-08-06","2020-08-07","2020-08-08","2020-08-09","2020-08-10","2020-08-11","2020-08-12","2020-08-13","2020-08-14","2020-08-15","2020-08-16","2020-08-17","2020-08-18","2020-08-19","2020-08-20","2020-08-21","2020-08-22","2020-08-23","2020-08-24","2020-08-25","2020-08-26","2020-08-27","2020-08-28","2020-08-29","2020-08-30","2020-08-31","2020-09-01","2020-09-02","2020-09-03","2020-09-04","2020-09-05","2020-09-06","2020-09-07","2020-09-08","2020-09-09","2020-09-10","2020-09-11","2020-09-12","2020-09-13","2020-09-14","2020-09-15","2020-09-16","2020-09-17","2020-09-18","2020-09-19","2020-09-20","2020-09-21","2020-09-22","2020-09-23","2020-09-24","2020-09-25","2020-09-26","2020-09-27","2020-09-28","2020-09-29","2020-09-30","2020-10-01","2020-10-02","2020-10-03","2020-10-04","2020-10-05","2020-10-06","2020-10-07","2020-10-08","2020-10-09","2020-10-10","2020-10-11","2020-10-12","2020-10-13","2020-10-14","2020-10-15","2020-10-16","2020-10-17","2020-10-18","2020-10-19","2020-10-20","2020-10-21","2020-10-22","2020-10-23","2020-10-24","2020-10-25","2020-10-26","2020-10-27","2020-10-28","2020-10-29","2020-10-30","2020-10-31","2020-11-01","2020-11-02","2020-11-03","2020-11-04","2020-11-05","2020-11-06","2020-11-07","2020-11-08","2020-11-09","2020-11-10","2020-11-11","2020-11-12","2020-11-13","2020-11-14","2020-11-15","2020-11-16","2020-11-17","2020-11-18","2020-11-19","2020-11-20","2020-11-21","2020-11-22","2020-11-23","2020-11-24","2020-11-25","2020-11-26","2020-11-27","2020-11-28","2020-11-29","2020-11-30","2020-12-01","2020-12-02","2020-12-03","2020-12-04","2020-12-05","2020-12-06","2020-12-07","2020-12-08","2020-12-09","2020-12-10","2020-12-11","2020-12-12","2020-12-13","2020-12-14","2020-12-15","2020-12-16","2020-12-17","2020-12-18","2020-12-19","2020-12-20","2020-12-21","2020-12-22","2020-12-23","2020-12-24","2020-12-25","2020-12-26","2020-12-27","2020-12-28","2020-12-29","2020-12-30","2020-12-31","2021-01-01","2021-01-02","2021-01-03","2021-01-04","2021-01-05","2021-01-06","2021-01-07","2021-01-08","2021-01-09","2021-01-10","2021-01-11","2021-01-12","2021-01-13","2021-01-14","2021-01-15","2021-01-16","2021-01-17","2021-01-18","2021-01-19","2021-01-20","2021-01-21","2021-01-22","2021-01-23","2021-01-24","2021-01-25","2021-01-26","2021-01-27","2021-01-28","2021-01-29","2021-01-30","2021-01-31","2021-02-01","2021-02-02","2021-02-03","2021-02-04","2021-02-05","2021-02-06","2021-02-07","2021-02-08","2021-02-09","2021-02-10","2021-02-11","2021-02-12","2021-02-13","2021-02-14","2021-02-15","2021-02-16","2021-02-17","2021-02-18","2021-02-19","2021-02-20","2021-02-21","2021-02-22","2021-02-23","2021-02-24","2021-02-25","2021-02-26","2021-02-27","2021-02-28","2021-03-01","2021-03-02","2021-03-03","2021-03-04","2021-03-05","2021-03-06","2021-03-07","2021-03-08","2021-03-09","2021-03-10","2021-03-11","2021-03-12","2021-03-13","2021-03-14","2021-03-15","2021-03-16","2021-03-17","2021-03-18","2021-03-19","2021-03-20","2021-03-21","2021-03-22","2021-03-23","2021-03-24","2021-03-25","2021-03-26","2021-03-27","2021-03-28","2021-03-29","2021-03-30","2021-03-31","2021-04-01","2021-04-02","2021-04-03","2021-04-04","2021-04-05","2021-04-06","2021-04-07","2021-04-08","2021-04-09","2021-04-10","2021-04-11","2021-04-12","2021-04-13","2021-04-14","2021-04-15","2021-04-16","2021-04-17","2021-04-18","2021-04-19","2021-04-20","2021-04-21","2021-04-22","2021-04-23","2021-04-24","2021-04-25","2021-04-26","2021-04-27","2021-04-28","2021-04-29","2021-04-30","2021-05-01","2021-05-02","2021-05-03","2021-05-04","2021-05-05","2021-05-06","2021-05-07","2021-05-08","2021-05-09","2021-05-10","2021-05-11","2021-05-12","2021-05-13","2021-05-14","2021-05-15","2021-05-16","2021-05-17","2021-05-18","2021-05-19","2021-05-20","2021-05-21","2021-05-22","2021-05-23","2021-05-24","2021-05-25","2021-05-26","2021-05-27","2021-05-28","2021-05-29","2021-05-30","2021-05-31","2021-06-01","2021-06-02","2021-06-03","2021-06-04","2021-06-05","2021-06-06","2021-06-07","2021-06-08","2021-06-09","2021-06-10","2021-06-11","2021-06-12","2021-06-13","2021-06-14","2021-06-15","2021-06-16","2021-06-17","2021-06-18","2021-06-19","2021-06-20","2021-06-21","2021-06-22","2021-06-23","2021-06-24","2021-06-25","2021-06-26","2021-06-27","2021-06-28","2021-06-29","2021-06-30","2021-07-01","2021-07-02","2021-07-03","2021-07-04","2021-07-05","2021-07-06","2021-07-07","2021-07-08","2021-07-09","2021-07-10","2021-07-11","2021-07-12","2021-07-13","2021-07-14","2021-07-15","2021-07-16","2021-07-17","2021-07-18","2021-07-19","2021-07-20","2021-07-21","2021-07-22","2021-07-23","2021-07-24","2021-07-25","2021-07-26","2021-07-27","2021-07-28","2021-07-29","2021-07-30","2021-07-31","2021-08-01","2021-08-02","2021-08-03","2021-08-04","2021-08-05","2021-08-06","2021-08-07","2021-08-08","2021-08-09","2021-08-10","2021-08-11","2021-08-12","2021-08-13","2021-08-14","2021-08-15","2021-08-16","2021-08-17","2021-08-18","2021-08-19","2021-08-20","2021-08-21","2021-08-22","2021-08-23","2021-08-24","2021-08-25","2021-08-26","2021-08-27","2021-08-28","2021-08-29","2021-08-30","2021-08-31","2021-09-01","2021-09-02","2021-09-03","2021-09-04","2021-09-05","2021-09-06","2021-09-07","2021-09-08","2021-09-09","2021-09-10","2021-09-11","2021-09-12","2021-09-13","2021-09-14","2021-09-15","2021-09-16","2021-09-17","2021-09-18","2021-09-19","2021-09-20","2021-09-21","2021-09-22","2021-09-23","2021-09-24","2021-09-25","2021-09-26","2021-09-27","2021-09-28","2021-09-29","2021-09-30","2021-10-01","2021-10-02","2021-10-03","2021-10-04","2021-10-05","2021-10-06","2021-10-07","2021-10-08","2021-10-09","2021-10-10","2021-10-11","2021-10-12","2021-10-13","2021-10-14","2021-10-15","2021-10-16","2021-10-17","2021-10-18","2021-10-19","2021-10-20","2021-10-21","2021-10-22","2021-10-23","2021-10-24","2021-10-25","2021-10-26","2021-10-27","2021-10-28","2021-10-29","2021-10-30","2021-10-31","2021-11-01","2021-11-02","2021-11-03","2021-11-04","2021-11-05","2021-11-06","2021-11-07","2021-11-08","2021-11-09","2021-11-10","2021-11-11","2021-11-12","2021-11-13","2021-11-14","2021-11-15","2021-11-16","2021-11-17","2021-11-18","2021-11-19","2021-11-20","2021-11-21","2021-11-22","2021-11-23","2021-11-24","2021-11-25","2021-11-26","2021-11-27","2021-11-28","2021-11-29","2021-11-30","2021-12-01","2021-12-02","2021-12-03","2021-12-04","2021-12-05","2021-12-06","2021-12-07","2021-12-08","2021-12-09","2021-12-10","2021-12-11","2021-12-12","2021-12-13","2021-12-14","2021-12-15","2021-12-16","2021-12-17","2021-12-18","2021-12-19","2021-12-20","2021-12-21","2021-12-22","2021-12-23","2021-12-24","2021-12-25","2021-12-26","2021-12-27","2021-12-28","2021-12-29","2021-12-30","2021-12-31","2022-01-01","2022-01-02","2022-01-03","2022-01-04","2022-01-05","2022-01-06","2022-01-07","2022-01-08","2022-01-09","2022-01-10","2022-01-11","2022-01-12","2022-01-13","2022-01-14","2022-01-15"],
                activos:[1,1,3,4,5,7,10,15,17,23,33,43,61,75,156,200,235,338,429,531,623,734,903,1117,1269,1562,1842,2057,2285,2525,2781,3051,3288,3606,3820,4050,4175,4383,4641,4865,4990,5074,5076,5179,5242,5403,5515,5569,5617,5692,5716,5750,5840,5805,5931,6118,6288,6448,6862,7216,7756,8616,9362,9958,11031,11578,12632,13518,14248,15442,16135,17261,19170,21017,22534,22993,24118,25416,27563,30569,33e3,35885,38174,40236,43934,46240,47908,49938,51096,53430,55907,59100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,37307,37064,35692,34592,34834,34861,34364,34263,34270,32476,30847,29374,28695,28210,28194,27804,26340,24807,24612,24440,24008,24166,24077,23205,21934,21107,21378,20952,20633,20404,19190,18439,18490,18694,18403,18583,18782,18228,17740,17531,17883,17621,17712,17810,16887,16640,16614,16699,16880,17153,17563,16897,16544,16604,16734,16556,16666,16604,15869,15174,15116,15149,15186,15634,16188,15564,15107,15108,15388,15645,16146,16558,16034,15712,15670,15727,15916,16519,16905,16129,15770,15532,15621,15852,16473,16695,15999,15377,15080,14647,14319,14242,14059,13026,12393,12289,12761,13129,13556,13957,13781,13661,13780,14116,14671,15130,15256,14818,14297,14139,14252,14269,14701,15025,14385,13884,13526,13564,13703,14182,14608,14049,13565,13490,13635,9990,9784,9634,9035,8507,8925,9176,9121,9164,9074,8776,8266,8640,9346,9334,9311,9094,8861,8451,8968,9454,9358,9455,9374,9025,8592,8880,9351,9224,9145,9144,8816,8468,8872,9379,9519,9554,9418,9089,8647,9104,9719,9509,9646,9892,9806,9596,10057,10526,10530,10887,11035,10864,10594,11199,12468,12591,13105,13047,12794,12561,13214,14133,14275,13745,13572,13477,13514,14638,16355,16870,16620,16626,16885,17239,18679,20259,20749,21613,22309,22798,23407,24800,26088,25442,25429,25008,24246,23647,25048,26889,26633,26682,26475,25659,24690,25259,26535,26594,26290,25589,24457,22739,22887,23521,22791,22493,22194,21418,20239,21171,22799,22363,22484,22399,21539,20958,21636,22728,22438,22202,21904,20848,19970,21383,23178,23585,24106,24466,23721,23913,25051,27317,27523,28557,28987,28371,27982,30428,32707,32705,33290,33379,32867,31826,34228,36433,37048,37958,38024,37304,36054,38699,41151,41177,41767,42509,41335,40696,42915,45202,44584,44261,42794,40904,38496,40514,44143,45413,45792,45021,42761,42278,43229,46492,45965,45377,44701,42920,40686,41128,44878,43577,43174,42195,39717,37481,38388,41944,40865,40142,38732,36108,34644,35469,37663,36852,36406,35954,34564,32932,34192,36746,36964,37617,37560,36097,35294,37901,40849,41261,41510,40780,39243,38145,40510,43793,44186,44928,45104,43239,43069,44913,47051,47388,49356,48596,46874,44757,45774,47777,46337,45506,44217,41868,39176,39698,41091,39834,38630,37284,36114,32507,30735,31897,30389,29118,27847,25688,23242,22224,22739,22809,21709,20647,18883,17357,17590,18027,17843,17043,16325,14766,13403,13569,13652,12863,12671,11575,10400,9461,9647,9970,9399,9227,8794,8141,7842,8017,8593,8125,7874,7504,6914,6402,6591,7125,6804,6379,6261,5778,5489,5744,6105,5854,5728,5573,5160,4812,4933,5324,5024,4853,4625,4423,4115,4327,4453,4206,4143,3982,3749,3568,3648,3717,3486,3342,3235,3012,2910,2996,3156,3166,3061,3160,3086,3026,3223,3460,3507,3504,3343,3246,3297,3675,4075,4237,4486,4526,3851,4021,4295,4269,4334,4367,4311,4110,4293,4607,4725,4968,5290,5496,5335,5339,5808,6322,6992,7504,7789,7690,7934,8591,9341,9570,9849,9973,9674,10025,10800,11113,11388,11620,11602,11169,10801,11141,11291,11896,12516,12717,12588,13261,14291,14913,14971,15109,14909,14264,14306,14715,14508,14398,14594,14472,13592,13659,14393,14250,14448,14433,14101,13254,12876,13179,12537,11766,11781,11277,10518,10299,10618,10026,9668,9393,9249,8674,8470,8765,8443,8323,8364,8184,7669,7453,7871,7896,8163,8126,7773,7363,7533,8319,8833,9489,10169,9995,9843,10677,12569,14405,17132,19635,22098,24347,27453,32483,36622,41895]
            };

            new Chart(document.getElementById("misBarritas").getContext("2d"), {
                type: "bar",
                data: {
                    labels: covid.fechas,
                    datasets: [
                        {
                            data: covid.activos,
                            backgroundColor: "#f1a340" /* revisar contraste con fondo https://webaim.org/resources/contrastchecker/ */,
                        },
                    ],
                },
                options: {
                    scales: {
                        y: {
                            ticks: {
                                callback: function (numero) {
                                    return numero.toLocaleString("es-CL");
                                },
                            },
                        },
                    },
                    plugins: {
                        legend: {
                            display: false,
                        },
                        title: {
                            display: true,
                            text: "CASOS ACTIVOS DE COVID-19 EN CHILE",
                        },
                    },
                },
            });
        </script>
    </body>
</html>
```

Los datos utilizados en el gráfico de barras estaban disponibles a fines de enero de 2022 en https://github.com/MinCiencia/Datos-COVID19/blob/master/output/producto5/TotalesNacionales.csv ¡Ya convendría actualizarlos!

- - - - - - - - - - - - -

###### [← SESIÓN ANTERIOR](https://github.com/profesorfaco/front-end/tree/main/sesion_07) — [SIGUIENTE SESIÓN →](https://github.com/profesorfaco/front-end/tree/main/sesion_09)
